# Plan: 근로계약서 자동 생성 시스템

> **Feature**: labor-contract-generator
> **Created**: 2026-01-30
> **Phase**: Plan
> **Status**: Draft

---

## 1. 개요 (Overview)

### 1.1 목표
구글 시트에 입력된 직원 정보를 기반으로 근로계약서를 자동으로 생성하는 Google Apps Script(GAS) 시스템 개발

### 1.2 배경
- 수작업으로 근로계약서를 작성하는 데 많은 시간 소요
- 입력 오류 및 누락 발생 가능성
- 계약서 양식의 일관성 유지 어려움

### 1.3 기대 효과
- 근로계약서 생성 시간 90% 단축
- 데이터 입력 오류 최소화
- 표준화된 계약서 양식 유지

---

## 2. 요구사항 (Requirements)

### 2.1 기능 요구사항 (Functional Requirements)

| ID | 요구사항 | 우선순위 | 설명 |
|----|----------|----------|------|
| FR-01 | 시트 데이터 읽기 | 필수 | 구글 시트에서 직원 정보 데이터 추출 |
| FR-02 | 템플릿 문서 복사 | 필수 | 근로계약서 템플릿을 새 문서로 복사 |
| FR-03 | 플레이스홀더 치환 | 필수 | {{변수명}} 형태의 플레이스홀더를 실제 데이터로 치환 |
| FR-04 | PDF 변환 | 선택 | 생성된 문서를 PDF로 변환 |
| FR-05 | 이메일 발송 | 선택 | 생성된 계약서를 이메일로 발송 |
| FR-06 | 처리 상태 업데이트 | 필수 | 시트에 처리 완료 상태 기록 |

### 2.2 비기능 요구사항 (Non-Functional Requirements)

| ID | 요구사항 | 설명 |
|----|----------|------|
| NFR-01 | 실행 시간 | 건당 30초 이내 처리 |
| NFR-02 | 에러 처리 | 실패 시 로그 기록 및 알림 |
| NFR-03 | 권한 관리 | 최소 권한 원칙 적용 |

---

## 3. 데이터 구조 (Data Structure)

### 3.1 입력 시트 컬럼 구조 (예상)

| 컬럼 | 필드명 | 타입 | 필수 | 설명 |
|------|--------|------|------|------|
| A | 이름 | String | Y | 근로자 성명 |
| B | 주민등록번호 | String | Y | 근로자 주민번호 |
| C | 주소 | String | Y | 근로자 주소 |
| D | 연락처 | String | Y | 근로자 전화번호 |
| E | 직위 | String | Y | 담당 직위/직급 |
| F | 부서 | String | N | 소속 부서 |
| G | 계약시작일 | Date | Y | 근로 시작일 |
| H | 계약종료일 | Date | N | 근로 종료일 (무기계약 시 공백) |
| I | 급여 | Number | Y | 월 급여액 |
| J | 근무시간 | String | Y | 근무 시간대 |
| K | 이메일 | String | N | 계약서 발송용 이메일 |
| L | 처리상태 | String | - | 시스템이 자동 업데이트 |
| M | 생성일시 | DateTime | - | 시스템이 자동 업데이트 |

### 3.2 템플릿 플레이스홀더

```
{{이름}}, {{주민등록번호}}, {{주소}}, {{연락처}}
{{직위}}, {{부서}}, {{계약시작일}}, {{계약종료일}}
{{급여}}, {{근무시간}}, {{오늘날짜}}
```

---

## 4. 기술 스택 (Tech Stack)

| 구분 | 기술 | 버전/설명 |
|------|------|-----------|
| Runtime | Google Apps Script | V8 Runtime |
| 개발 도구 | clasp | CLI 기반 개발 |
| 데이터 소스 | Google Sheets | 직원 정보 저장 |
| 템플릿 | Google Docs | 근로계약서 양식 |
| 출력 | Google Docs / PDF | 생성된 계약서 |
| 저장소 | Google Drive | 생성 파일 보관 |

---

## 5. 시스템 아키텍처 (Architecture)

```
┌─────────────────┐     ┌─────────────────┐     ┌─────────────────┐
│  Google Sheets  │────▶│  Apps Script    │────▶│  Google Docs    │
│  (직원 데이터)   │     │  (처리 로직)     │     │  (계약서 생성)   │
└─────────────────┘     └─────────────────┘     └─────────────────┘
                               │                        │
                               ▼                        ▼
                        ┌─────────────────┐     ┌─────────────────┐
                        │  Google Drive   │     │     Gmail       │
                        │  (파일 저장)     │     │  (이메일 발송)   │
                        └─────────────────┘     └─────────────────┘
```

---

## 6. 구현 범위 (Scope)

### 6.1 Phase 1 (MVP) - 필수 기능
- [ ] 구글 시트 데이터 읽기
- [ ] 템플릿 복사 및 플레이스홀더 치환
- [ ] 처리 상태 업데이트
- [ ] 기본 에러 핸들링

### 6.2 Phase 2 - 확장 기능
- [ ] PDF 변환
- [ ] 이메일 자동 발송
- [ ] 일괄 처리 (다중 계약서 생성)

### 6.3 Phase 3 - 고급 기능
- [ ] 트리거 기반 자동 실행
- [ ] 관리자 대시보드
- [ ] 감사 로그

---

## 7. 파일 구조 (예상)

```
labor-automation/
├── docs/
│   ├── 01-plan/
│   │   └── features/
│   │       └── labor-contract-generator.plan.md
│   ├── 02-design/
│   ├── 03-analysis/
│   └── 04-report/
├── src/
│   ├── Code.js           # 메인 진입점
│   ├── SheetService.js   # 시트 데이터 처리
│   ├── DocService.js     # 문서 생성 처리
│   ├── EmailService.js   # 이메일 발송 (Phase 2)
│   └── Config.js         # 설정값
├── appsscript.json       # GAS 매니페스트
├── .clasp.json           # clasp 설정
└── README.md
```

---

## 8. 리스크 및 제약사항 (Risks & Constraints)

| 리스크 | 영향도 | 대응 방안 |
|--------|--------|-----------|
| GAS 실행 시간 제한 (6분) | 중 | 배치 처리 및 분할 실행 |
| API 호출 할당량 초과 | 중 | 호출 최적화 및 캐싱 |
| 템플릿 구조 변경 | 하 | 플레이스홀더 검증 로직 |

---

## 9. 마일스톤 (Milestones)

| 단계 | 산출물 | 완료 조건 |
|------|--------|-----------|
| Plan | Plan.md | 요구사항 정의 완료 |
| Design | Design.md | 상세 설계 완료 |
| Do | 소스 코드 | 구현 완료 |
| Check | Analysis.md | 설계-구현 일치율 90% 이상 |
| Report | Report.md | 최종 보고서 작성 |

---

## 10. 다음 단계 (Next Steps)

1. **Plan 확정**: 요구사항 검토 및 승인
2. **Design 단계 진행**: `/pdca design labor-contract-generator`
3. **구글 시트/문서 템플릿 준비**: 실제 사용할 양식 준비

---

> **Note**: 이 Plan 문서가 확정되면 Design 단계로 진행합니다.
